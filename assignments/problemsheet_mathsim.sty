\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{problemsheet_mathsim}[2022/10/22 Mathematical Methods of Simulation]

\RequirePackage{mathsim}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\bm}{\mathbf}
\newcommand{\nfrac}[2]{#1/#2}
\newcommand{\set}[1]{\left\{#1\right\}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Conditionals
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \newif\ifsolution
% % \solutiontrue
% \solutionfalse

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% Counters and their representation
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcounter{sheet}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Theorem and related environments
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newtheorem{classproblem}{Problem}
\renewenvironment{Problem}{\begin{classproblem}}{\end{classproblem}}
\newenvironment{Sheet}[1][???]{%
  \pagenumbering{arabic}
  \refstepcounter{sheet}
  \setcounter{classproblem}{0}
  \begin{center}
    {\huge\textbf{Numerical Linear Algebra - Sheet~\thesheet}}

    #1 \vskip6ex\end{center}}{}

\newenvironment{SolutionSheet}{%
  \pagenumbering{arabic}
  \begin{center}
    {\huge\textbf{Numerical Linear Algebra - Sheet~\thesheet}

    \textbf{Solutions}}\vskip6ex\end{center}}{}

\newtheorem{Solution}{Solution}
\newtheorem*{Solution*}{Solution}

\newtheorem{classalgorithm}{Algorithm}
\renewenvironment{Algorithm}[1][]{
  \begin{minipage}[H]{0.05\textwidth}
    \hspace{0.5ex}
  \end{minipage}%
  \begin{minipage}[H]{0.9\textwidth}
  }{\end{minipage}}
